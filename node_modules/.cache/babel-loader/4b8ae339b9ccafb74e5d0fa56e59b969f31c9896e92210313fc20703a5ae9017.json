{"ast":null,"code":"import'./App.css';import{useState,useEffect,useRef,useCallback}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[selectedTransports,setSelectedTransports]=useState([]);const[time,setTime]=useState(20);const[address,setAddress]=useState('');const mapRef=useRef(null);const markerRef=useRef(null);const mapInstanceRef=useRef(null);const circleRef=useRef(null);const toggleTransport=type=>{setSelectedTransports(prev=>{// Prevent selecting bus or subway if car is already selected\nif((type==='bus'||type==='subway')&&prev.includes('car')&&!prev.includes(type)){return prev;}// Prevent selecting car if bus or subway is already selected\nif(type==='car'&&(prev.includes('bus')||prev.includes('subway'))&&!prev.includes('car')){return prev;}// 2. If selecting 'bus' or 'subway', ensure 'walking' is also selected\nif(type==='bus'||type==='subway'){if(prev.includes(type)){// Deselecting bus/subway\nreturn prev.filter(t=>t!==type);}else{// Selecting bus/subway\nlet newTransports=[...prev,type];if(!prev.includes('walking')){newTransports.push('walking');}// Remove duplicates\nreturn Array.from(new Set(newTransports));}}// 3. If deselecting walking, also remove bus and subway if present\nif(type==='walking'){if(prev.includes('walking')){// Deselect walking, also remove bus and subway\nreturn prev.filter(t=>t!=='walking'&&t!=='bus'&&t!=='subway');}else{// Selecting walking\nreturn[...prev,'walking'];}}// Default toggle for other types (including 'car')\nreturn prev.includes(type)?prev.filter(t=>t!==type):[...prev,type];});};const getCurrentLocation=useCallback(()=>{if(navigator.geolocation){navigator.geolocation.getCurrentPosition(position=>{const latitude=position.coords.latitude;const longitude=position.coords.longitude;if(latitude!==undefined&&longitude!==undefined){const appKey='US3lRlDB4J7h64o8wkq6kUYZAtYW44e7BGFUBz58';const url=`https://apis.openapi.sk.com/tmap/geo/reversegeocoding?version=1&lat=${latitude}&lon=${longitude}&coordType=WGS84GEO&addressType=A10&appKey=${appKey}`;fetch(url).then(response=>response.json()).then(data=>{if(data&&data.addressInfo){const{legalDong,roadName,buildingName}=data.addressInfo;const simplifiedAddress=`${legalDong} ${roadName}${buildingName?' '+buildingName:''}`;setAddress(simplifiedAddress);}else{setAddress(`위도: ${latitude.toFixed(5)}, 경도: ${longitude.toFixed(5)}`);}if(window.Tmapv2&&mapInstanceRef.current){// Remove previous marker if exists\nif(markerRef.current){markerRef.current.setMap(null);}markerRef.current=new window.Tmapv2.Marker({position:new window.Tmapv2.LatLng(latitude,longitude),map:mapInstanceRef.current});mapInstanceRef.current.setCenter(new window.Tmapv2.LatLng(latitude,longitude));}}).catch(error=>{console.error(error);alert('주소 변환에 실패했습니다.');setAddress(`위도: ${latitude.toFixed(5)}, 경도: ${longitude.toFixed(5)}`);});}},()=>{alert('위치를 가져오는 데 실패했습니다.');});}else{alert('이 브라우저는 위치를 지원하지 않습니다.');}},[]);useEffect(()=>{getCurrentLocation();if(window.Tmapv2&&mapRef.current){mapInstanceRef.current=new window.Tmapv2.Map(mapRef.current,{center:new window.Tmapv2.LatLng(37.49241689559544,127.03171389453507),width:\"100%\",height:\"100%\",zoom:15,// further zoomed in\nzoomControl:false,scrollwheel:true});}},[getCurrentLocation]);useEffect(()=>{if(!markerRef.current||!mapInstanceRef.current){return;}// Remove previous circle if exists\nif(circleRef.current){circleRef.current.setMap(null);circleRef.current=null;}if(selectedTransports.length===0){return;}const position=markerRef.current.getPosition();const latitude=position.lat();const longitude=position.lng();// Average speeds in meters per hour\nconst speedTable={car:60000,bus:40000,subway:50000,walking:5000};// Reduction factors for each transport mode\nconst reductionTable={car:0.7,// 30% reduction\nbus:0.6,// 40% reduction\nsubway:0.5,// 50% reduction\nwalking:0.4// 60% reduction\n};const transports=selectedTransports;const adjustedSpeeds=transports.map(t=>{return speedTable[t]||0;});const totalSpeed=adjustedSpeeds.reduce((acc,s)=>acc+s,0);const avgSpeedMph=totalSpeed/transports.length;const avgSpeedMpm=avgSpeedMph/60;// meters per minute\nlet radius=avgSpeedMpm*time;// meters\n// Apply reduction factors based on selected transport modes\n// Use the most restrictive (minimum) reduction factor among selected transports\nif(transports.length>0){const reductions=transports.map(t=>reductionTable[t]||1);const minReduction=Math.min(...reductions);radius=radius*minReduction;}circleRef.current=new window.Tmapv2.Circle({center:new window.Tmapv2.LatLng(latitude,longitude),radius:radius,strokeWeight:2,strokeColor:\"#3399ff\",strokeOpacity:0.7,fillColor:\"#3399ff\",fillOpacity:0.2,map:mapInstanceRef.current});},[selectedTransports,time]);return/*#__PURE__*/_jsx(\"div\",{className:\"app-wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"app-container\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"app-header\",children:/*#__PURE__*/_jsx(\"div\",{className:\"header-inner\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"header-logo\",children:\"GOSTOP\"})})}),/*#__PURE__*/_jsxs(\"main\",{className:\"app-main\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"location-section\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"section-title\",children:\"\\uD604\\uC7AC \\uC704\\uCE58\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"location-input-wrapper\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\uC704\\uCE58\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694\",className:\"location-input\",value:address,onChange:e=>setAddress(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{className:\"location-btn\",onClick:getCurrentLocation,children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-location-crosshairs location-btn-icon\"})})]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"transport-section\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"section-title\",children:\"\\uC774\\uB3D9 \\uC218\\uB2E8 \\uC120\\uD0DD\"}),/*#__PURE__*/_jsx(\"div\",{className:\"transport-grid\",children:[{icon:'car',label:'자동차'},{icon:'bus',label:'버스'},{icon:'subway',label:'지하철'},{icon:'walking',label:'도보'}].map(item=>/*#__PURE__*/_jsxs(\"button\",{className:`transport-btn ${selectedTransports.includes(item.icon)?'transport-btn-selected':'transport-btn-default'}`,onClick:()=>toggleTransport(item.icon),children:[/*#__PURE__*/_jsx(\"i\",{className:`fas fa-${item.icon} transport-btn-icon`}),/*#__PURE__*/_jsx(\"span\",{className:\"transport-btn-label\",children:item.label})]},item.icon))})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"time-section\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"section-title\",children:\"\\uC5EC\\uD589 \\uC2DC\\uAC04 \\uC124\\uC815\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"time-range-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"range\",min:\"20\",max:\"720\",value:time,onChange:e=>setTime(parseInt(e.target.value)),className:\"time-range-slider\",step:\"10\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"time-range-labels\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"time-range-label\",children:\"20\\uBD84\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"time-range-label\",children:[Math.floor(time/60),\"\\uC2DC\\uAC04 \",time%60,\"\\uBD84\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"time-range-label\",children:\"12\\uC2DC\\uAC04\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"map-container\",children:/*#__PURE__*/_jsx(\"div\",{ref:mapRef,style:{width:'100%',height:'100%'}})}),/*#__PURE__*/_jsxs(\"button\",{className:\"start-btn\",onClick:()=>{if(!markerRef.current||!mapInstanceRef.current||!circleRef.current){alert('지도를 초기화하거나 이동수단/시간을 선택해주세요.');return;}// Get center and radius\nconst center=circleRef.current.getCenter();const radius=circleRef.current.getRadius();// in meters\n// Generate random angle and distance\nconst theta=Math.random()*2*Math.PI;const r=radius*Math.sqrt(Math.random());// Convert meters to degrees\n// 1 deg latitude ~= 111,320 m, 1 deg longitude ~= 111,320 * cos(lat)\nconst latConv=111320;const lngConv=111320*Math.cos(center.lat()*Math.PI/180);const dLat=r*Math.cos(theta)/latConv;const dLng=r*Math.sin(theta)/lngConv;const lat=center.lat()+dLat;const lng=center.lng()+dLng;// Remove previous random markers if exist\nif(window._randomTravelMarkerA){window._randomTravelMarkerA.setMap(null);}if(window._randomTravelMarkerB){window._randomTravelMarkerB.setMap(null);}// Marker A: start point\nwindow._randomTravelMarkerA=new window.Tmapv2.Marker({position:center,map:mapInstanceRef.current,label:'A'});// Marker B: random destination (no label)\nwindow._randomTravelMarkerB=new window.Tmapv2.Marker({position:new window.Tmapv2.LatLng(lat,lng),map:mapInstanceRef.current,label:''});// Center map to random point\nmapInstanceRef.current.setCenter(new window.Tmapv2.LatLng(lat,lng));},children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-random start-btn-icon\"}),\"\\uB79C\\uB364 \\uC5EC\\uD589 \\uC2DC\\uC791\\uD558\\uAE30\"]})]})]})});}export default App;","map":{"version":3,"names":["useState","useEffect","useRef","useCallback","jsx","_jsx","jsxs","_jsxs","App","selectedTransports","setSelectedTransports","time","setTime","address","setAddress","mapRef","markerRef","mapInstanceRef","circleRef","toggleTransport","type","prev","includes","filter","t","newTransports","push","Array","from","Set","getCurrentLocation","navigator","geolocation","getCurrentPosition","position","latitude","coords","longitude","undefined","appKey","url","fetch","then","response","json","data","addressInfo","legalDong","roadName","buildingName","simplifiedAddress","toFixed","window","Tmapv2","current","setMap","Marker","LatLng","map","setCenter","catch","error","console","alert","Map","center","width","height","zoom","zoomControl","scrollwheel","length","getPosition","lat","lng","speedTable","car","bus","subway","walking","reductionTable","transports","adjustedSpeeds","totalSpeed","reduce","acc","s","avgSpeedMph","avgSpeedMpm","radius","reductions","minReduction","Math","min","Circle","strokeWeight","strokeColor","strokeOpacity","fillColor","fillOpacity","className","children","placeholder","value","onChange","e","target","onClick","icon","label","item","max","parseInt","step","floor","ref","style","getCenter","getRadius","theta","random","PI","r","sqrt","latConv","lngConv","cos","dLat","dLng","sin","_randomTravelMarkerA","_randomTravelMarkerB"],"sources":["/Users/yongjisun/Desktop/gostop/src/App.js"],"sourcesContent":["import './App.css'\nimport { useState, useEffect, useRef, useCallback } from 'react'\n\nfunction App() {\n  const [selectedTransports, setSelectedTransports] = useState([])\n  const [time, setTime] = useState(20)\n  const [address, setAddress] = useState('')\n\n  const mapRef = useRef(null);\n  const markerRef = useRef(null);\n  const mapInstanceRef = useRef(null);\n  const circleRef = useRef(null);\n\n  const toggleTransport = (type) => {\n    setSelectedTransports((prev) => {\n      // Prevent selecting bus or subway if car is already selected\n      if ((type === 'bus' || type === 'subway') && prev.includes('car') && !prev.includes(type)) {\n        return prev;\n      }\n      // Prevent selecting car if bus or subway is already selected\n      if (type === 'car' && (prev.includes('bus') || prev.includes('subway')) && !prev.includes('car')) {\n        return prev;\n      }\n      // 2. If selecting 'bus' or 'subway', ensure 'walking' is also selected\n      if ((type === 'bus' || type === 'subway')) {\n        if (prev.includes(type)) {\n          // Deselecting bus/subway\n          return prev.filter((t) => t !== type);\n        } else {\n          // Selecting bus/subway\n          let newTransports = [...prev, type];\n          if (!prev.includes('walking')) {\n            newTransports.push('walking');\n          }\n          // Remove duplicates\n          return Array.from(new Set(newTransports));\n        }\n      }\n      // 3. If deselecting walking, also remove bus and subway if present\n      if (type === 'walking') {\n        if (prev.includes('walking')) {\n          // Deselect walking, also remove bus and subway\n          return prev.filter((t) => t !== 'walking' && t !== 'bus' && t !== 'subway');\n        } else {\n          // Selecting walking\n          return [...prev, 'walking'];\n        }\n      }\n      // Default toggle for other types (including 'car')\n      return prev.includes(type) ? prev.filter((t) => t !== type) : [...prev, type];\n    });\n  }\n\n  const getCurrentLocation = useCallback(() => {\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(\n        (position) => {\n          const latitude = position.coords.latitude;\n          const longitude = position.coords.longitude;\n\n          if (latitude !== undefined && longitude !== undefined) {\n            const appKey = 'US3lRlDB4J7h64o8wkq6kUYZAtYW44e7BGFUBz58';\n            const url = `https://apis.openapi.sk.com/tmap/geo/reversegeocoding?version=1&lat=${latitude}&lon=${longitude}&coordType=WGS84GEO&addressType=A10&appKey=${appKey}`;\n\n            fetch(url)\n              .then(response => response.json())\n              .then(data => {\n                if (data && data.addressInfo) {\n                  const { legalDong, roadName, buildingName } = data.addressInfo;\n                  const simplifiedAddress = `${legalDong} ${roadName}${buildingName ? ' ' + buildingName : ''}`;\n                  setAddress(simplifiedAddress);\n                } else {\n                  setAddress(`위도: ${latitude.toFixed(5)}, 경도: ${longitude.toFixed(5)}`);\n                }\n                if (window.Tmapv2 && mapInstanceRef.current) {\n                  // Remove previous marker if exists\n                  if (markerRef.current) {\n                    markerRef.current.setMap(null);\n                  }\n                  markerRef.current = new window.Tmapv2.Marker({\n                    position: new window.Tmapv2.LatLng(latitude, longitude),\n                    map: mapInstanceRef.current,\n                  });\n                  mapInstanceRef.current.setCenter(new window.Tmapv2.LatLng(latitude, longitude));\n                }\n              })\n              .catch((error) => {\n                console.error(error);\n                alert('주소 변환에 실패했습니다.');\n                setAddress(`위도: ${latitude.toFixed(5)}, 경도: ${longitude.toFixed(5)}`);\n              });\n          }\n        },\n        () => {\n          alert('위치를 가져오는 데 실패했습니다.');\n        }\n      );\n    } else {\n      alert('이 브라우저는 위치를 지원하지 않습니다.');\n    }\n  }, [])\n\n  useEffect(() => {\n    getCurrentLocation()\n    if (window.Tmapv2 && mapRef.current) {\n      mapInstanceRef.current = new window.Tmapv2.Map(mapRef.current, {\n        center: new window.Tmapv2.LatLng(37.49241689559544, 127.03171389453507),\n        width: \"100%\",\n        height: \"100%\",\n        zoom: 15, // further zoomed in\n        zoomControl: false,\n        scrollwheel: true,\n      });\n    }\n  }, [getCurrentLocation])\n\n  useEffect(() => {\n    if (!markerRef.current || !mapInstanceRef.current) {\n      return;\n    }\n    // Remove previous circle if exists\n    if (circleRef.current) {\n      circleRef.current.setMap(null);\n      circleRef.current = null;\n    }\n    if (selectedTransports.length === 0) {\n      return;\n    }\n    const position = markerRef.current.getPosition();\n    const latitude = position.lat();\n    const longitude = position.lng();\n\n    // Average speeds in meters per hour\n    const speedTable = {\n      car: 60000,\n      bus: 40000,\n      subway: 50000,\n      walking: 5000,\n    };\n    // Reduction factors for each transport mode\n    const reductionTable = {\n      car: 0.7,      // 30% reduction\n      bus: 0.6,      // 40% reduction\n      subway: 0.5,   // 50% reduction\n      walking: 0.4,  // 60% reduction\n    };\n    const transports = selectedTransports;\n    const adjustedSpeeds = transports.map((t) => {\n      return speedTable[t] || 0;\n    });\n    const totalSpeed = adjustedSpeeds.reduce((acc, s) => acc + s, 0);\n    const avgSpeedMph = totalSpeed / transports.length;\n    const avgSpeedMpm = avgSpeedMph / 60; // meters per minute\n    let radius = avgSpeedMpm * time; // meters\n\n    // Apply reduction factors based on selected transport modes\n    // Use the most restrictive (minimum) reduction factor among selected transports\n    if (transports.length > 0) {\n      const reductions = transports.map((t) => reductionTable[t] || 1);\n      const minReduction = Math.min(...reductions);\n      radius = radius * minReduction;\n    }\n\n    circleRef.current = new window.Tmapv2.Circle({\n      center: new window.Tmapv2.LatLng(latitude, longitude),\n      radius: radius,\n      strokeWeight: 2,\n      strokeColor: \"#3399ff\",\n      strokeOpacity: 0.7,\n      fillColor: \"#3399ff\",\n      fillOpacity: 0.2,\n      map: mapInstanceRef.current,\n    });\n  }, [selectedTransports, time])\n\n  return (\n      <div className=\"app-wrapper\">\n        <div className=\"app-container\">\n          <header className=\"app-header\">\n            <div className=\"header-inner\">\n              <h1 className=\"header-logo\">GOSTOP</h1>\n            </div>\n          </header>\n\n          <main className=\"app-main\">\n            <section className=\"location-section\">\n              <h3 className=\"section-title\">현재 위치</h3>\n              <div className=\"location-input-wrapper\">\n                <input\n                    type=\"text\"\n                    placeholder=\"위치를 입력하세요\"\n                    className=\"location-input\"\n                    value={address}\n                    onChange={(e) => setAddress(e.target.value)}\n                />\n                <button className=\"location-btn\" onClick={getCurrentLocation}>\n                  <i className=\"fas fa-location-crosshairs location-btn-icon\"></i>\n                </button>\n              </div>\n            </section>\n\n            <section className=\"transport-section\">\n              <h3 className=\"section-title\">이동 수단 선택</h3>\n              <div className=\"transport-grid\">\n                {[\n                  { icon: 'car', label: '자동차' },\n                  { icon: 'bus', label: '버스' },\n                  { icon: 'subway', label: '지하철' },\n                  { icon: 'walking', label: '도보' },\n                ].map((item) => (\n                    <button\n                        key={item.icon}\n                        className={`transport-btn ${\n                            selectedTransports.includes(item.icon)\n                                ? 'transport-btn-selected'\n                                : 'transport-btn-default'\n                        }`}\n                        onClick={() => toggleTransport(item.icon)}\n                    >\n                      <i className={`fas fa-${item.icon} transport-btn-icon`}></i>\n                      <span className=\"transport-btn-label\">{item.label}</span>\n                    </button>\n                ))}\n              </div>\n            </section>\n\n            <section className=\"time-section\">\n              <h3 className=\"section-title\">여행 시간 설정</h3>\n              <div className=\"time-range-container\">\n                <input\n                    type=\"range\"\n                    min=\"20\"\n                    max=\"720\"\n                    value={time}\n                    onChange={(e) => setTime(parseInt(e.target.value))}\n                    className=\"time-range-slider\"\n                    step=\"10\"\n                />\n                <div className=\"time-range-labels\">\n                  <span className=\"time-range-label\">20분</span>\n                  <span className=\"time-range-label\">\n                  {Math.floor(time / 60)}시간 {time % 60}분\n                </span>\n                  <span className=\"time-range-label\">12시간</span>\n                </div>\n              </div>\n            </section>\n\n            <div className=\"map-container\">\n              <div ref={mapRef} style={{ width: '100%', height: '100%' }} />\n            </div>\n\n            <button\n              className=\"start-btn\"\n              onClick={() => {\n                if (\n                  !markerRef.current ||\n                  !mapInstanceRef.current ||\n                  !circleRef.current\n                ) {\n                  alert('지도를 초기화하거나 이동수단/시간을 선택해주세요.');\n                  return;\n                }\n                // Get center and radius\n                const center = circleRef.current.getCenter();\n                const radius = circleRef.current.getRadius(); // in meters\n                // Generate random angle and distance\n                const theta = Math.random() * 2 * Math.PI;\n                const r = radius * Math.sqrt(Math.random());\n                // Convert meters to degrees\n                // 1 deg latitude ~= 111,320 m, 1 deg longitude ~= 111,320 * cos(lat)\n                const latConv = 111320;\n                const lngConv = 111320 * Math.cos((center.lat() * Math.PI) / 180);\n                const dLat = (r * Math.cos(theta)) / latConv;\n                const dLng = (r * Math.sin(theta)) / lngConv;\n                const lat = center.lat() + dLat;\n                const lng = center.lng() + dLng;\n                // Remove previous random markers if exist\n                if (window._randomTravelMarkerA) {\n                  window._randomTravelMarkerA.setMap(null);\n                }\n                if (window._randomTravelMarkerB) {\n                  window._randomTravelMarkerB.setMap(null);\n                }\n                // Marker A: start point\n                window._randomTravelMarkerA = new window.Tmapv2.Marker({\n                  position: center,\n                  map: mapInstanceRef.current,\n                  label: 'A',\n                });\n                // Marker B: random destination (no label)\n                window._randomTravelMarkerB = new window.Tmapv2.Marker({\n                  position: new window.Tmapv2.LatLng(lat, lng),\n                  map: mapInstanceRef.current,\n                  label: '',\n                });\n                // Center map to random point\n                mapInstanceRef.current.setCenter(new window.Tmapv2.LatLng(lat, lng));\n              }}\n            >\n              <i className=\"fas fa-random start-btn-icon\"></i>\n              랜덤 여행 시작하기\n            </button>\n          </main>\n        </div>\n      </div>\n  )\n}\n\nexport default App\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}